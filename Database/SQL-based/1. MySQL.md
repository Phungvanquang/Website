# MySQL

* **MySQL** là hệ quản trị cơ sở dữ liệu quan hệ (RDBMS) mã nguồn mở, dùng **SQL** để quản lý dữ liệu.
* Ra mắt từ năm 1995, hiện thuộc **Oracle** (sau khi mua Sun Microsystems).
* Được dùng trong hàng triệu website, đặc biệt trong **LAMP stack**:

  * **Linux** – **Apache** – **MySQL** – **PHP/Python/Perl**.


# 1. Kiến trúc MySQL

MySQL chia làm 2 tầng chính:

1. **SQL Layer** (giao tiếp & xử lý truy vấn):

   * Parser (phân tích lệnh SQL).
   * Optimizer (tối ưu truy vấn).
   * Cache (query cache).

2. **Storage Engine Layer** (công cụ lưu trữ):

   * Mỗi bảng có thể dùng engine khác nhau.
   * Engine mặc định: **InnoDB** (hỗ trợ transaction, foreign key).
   * Engine khác: MyISAM (nhanh, nhưng không hỗ trợ transaction), Memory, CSV.


# 2. Database mặc định trong MySQL (quan trọng cho Pentest)

* **`mysql`** → lưu user, password hash, quyền truy cập.
* **`information_schema`** → metadata (danh sách DB, bảng, cột, quyền).
* **`performance_schema`** → giám sát hiệu năng.
* **`sys`** → view quản trị dễ đọc hơn.

# 3. Câu lệnh cơ bản (dùng cho Website & Pentest)

### Liệt kê database:

```sql
SHOW DATABASES;
```

### Liệt kê bảng trong DB:

```sql
USE target_db;
SHOW TABLES;
```

### Liệt kê cột trong bảng:

```sql
SHOW COLUMNS FROM users;
-- hoặc
SELECT column_name FROM information_schema.columns WHERE table_name='users';
```

### Dump dữ liệu (ví dụ lấy user/pass):

```sql
SELECT username, password FROM users;
```
https://phoenixnap.com/kb/mysql-commands-cheat-sheet

# 4. Ứng dụng MySQL trong Website

* **CMS**:

  * WordPress, Joomla, Drupal, phpBB → đều mặc định dùng MySQL.
* **E-commerce**:

  * Magento, OpenCart, PrestaShop.
* **Frameworks**:

  * PHP (Laravel, CodeIgniter, Symfony).
  * Python (Django có hỗ trợ, nhưng thường dùng PostgreSQL).
* **Hosting**:

  * Hầu hết shared hosting (cPanel, DirectAdmin) đều hỗ trợ MySQL/MariaDB.

# 5. Bảo mật & Lỗ hổng thường gặp

* **SQL Injection** (SQLi) → chèn lệnh SQL vào query website.
* **Weak password / default account** → user root không đổi mật khẩu.
* **Privilege Escalation** → user web có quyền đọc/ghi vào `mysql` DB.
* **Misconfiguration** → MySQL bind 0.0.0.0 (public), không firewall.



